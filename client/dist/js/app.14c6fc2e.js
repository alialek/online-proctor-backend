(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)i=o[d],r[i]&&v.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("1356"),r=n.n(a);r.a},"08be":function(t,e,n){"use strict";var a=n("b205"),r=n.n(a);r.a},1356:function(t,e,n){},"227b":function(t,e,n){t.exports=n.p+"img/blue.e312bc77.svg"},"2ee9":function(t,e,n){t.exports=n.p+"img/orange.722256c6.svg"},"30fa":function(t,e,n){"use strict";var a=n("6abe"),r=n.n(a);r.a},"53f3":function(t,e,n){t.exports=n.p+"img/black.07db8a6e.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("router-view"),t.isLogged?n("Navbar"):t._e()],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-nav",{attrs:{active:t.bottomNav,color:t.color,value:!0,fixed:"",dark:"",shift:""},on:{"update:active":function(e){t.bottomNav=e}}},[n("router-link",{attrs:{to:"/profile"}},[n("v-btn",{attrs:{dark:""}},[n("span",[t._v("Профиль")]),n("v-icon",[t._v("person")])],1)],1),n("router-link",{attrs:{to:"/"}},[n("v-btn",{attrs:{dark:""}},[n("span",[t._v("Квесты")]),n("v-icon",[t._v("location_on")])],1)],1),n("router-link",{attrs:{to:"/teams"}},[n("v-btn",{attrs:{dark:""}},[n("span",[t._v("Команда")]),n("v-icon",[t._v("people")])],1)],1)],1)},o=[],c={name:"Navbar",props:{msg:String},data:function(){return{bottomNav:1}},computed:{color:function(){switch(this.bottomNav){case 0:return"#353941";case 1:return"#4ab8e1";case 2:return"#ffab2d";default:return"black"}}}},l=c,u=n("2877"),d=n("6544"),v=n.n(d),p=n("887a"),f=n("8336"),g=n("132d"),m=Object(u["a"])(l,i,o,!1,null,"57484202",null),h=m.exports;v()(m,{VBottomNav:p["a"],VBtn:f["a"],VIcon:g["a"]});var b={name:"App",components:{Navbar:h},data:function(){return{}},computed:{isLogged:function(){return this.$store.state.authentication.status.loggedIn},isLoading:function(){return this.$store.state.quest.isLoading}}},y=b,_=(n("034f"),n("7496")),x=Object(u["a"])(y,r,s,!1,null,null,null),w=x.exports;v()(x,{VApp:_["a"]});n("6762");var O=n("8c4f"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login"},[t._m(0),t._m(1),t._m(2),n("v-container",[n("v-layout",{staticStyle:{width:"100%",position:"absolute","z-index":"9999",height:"65%","background-color":"white",bottom:"0",left:"0","border-radius":"30px 30px 0px 0px"},attrs:{"align-center":"","justify-center":""}},[n("v-flex",{staticClass:"mx-3"},[n("v-tabs",{staticStyle:{width:"100%"},attrs:{grow:"",centered:"",color:"transparent","slider-color":"orange"}},[n("v-tab",{attrs:{ripple:""}},[t._v("Вход")]),n("v-tab",{attrs:{ripple:""}},[t._v("Регистрация")]),n("v-tab-item",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleAuth(e)}}},[n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{type:"password",label:"Пароль",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[n("span",{staticStyle:{"font-size":"30px","font-weight":"600"}},[t._v("Войти")]),n("v-btn",{staticStyle:{"background-color":"#353941",color:"white"},attrs:{fab:"",type:"submit"}},[n("v-icon",[t._v("arrow_right")])],1)],1)],1)],1),n("v-tab-item",[n("v-form",{on:{submit:function(e){return e.preventDefault(),t.handleReg(e)}}},[n("v-text-field",{attrs:{label:"Имя",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{type:"password",label:"Пароль",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[n("span",{staticStyle:{"font-size":"30px","font-weight":"600"}},[t._v("Регистрация")]),n("v-btn",{staticStyle:{"background-color":"#353941",color:"white"},attrs:{fab:"",type:"submit"}},[n("v-icon",[t._v("lock")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left bg-image-holder"},[a("img",{staticClass:"bg-image right-image",attrs:{src:n("227b")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"center bg-image-holder"},[a("img",{staticClass:"bg-image center-image",attrs:{src:n("53f3")}}),a("h2",{staticStyle:{position:"absolute",color:"white","font-size":"30px","margin-top":"25%","margin-left":"7%"}},[t._v("\n      Добро\n      "),a("br"),t._v("Пожаловать\n    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right bg-image-holder"},[a("img",{staticClass:"bg-image left-image",attrs:{src:n("2ee9")}})])}],j=(n("7f7f"),{name:"Login",components:{},data:function(){return{name:"",email:"",password:""}},created:function(){},methods:{handleAuth:function(){var t=this.email,e=this.password,n=this.$store.dispatch;t&&e&&n("authentication/login",{email:t,password:e})},handleReg:function(){var t=this.name,e=this.email,n=this.password,a=this.$store.dispatch;e&&n&&t&&a("authentication/register",{name:t,email:e,password:n})}}}),S=j,V=(n("8dd1"),n("a523")),E=n("0e8f"),q=n("4bd4"),P=n("a722"),T=n("71a3"),I=n("c671"),$=n("fe57"),L=n("2677"),R=Object(u["a"])(S,k,C,!1,null,"e2acb428",null),D=R.exports;v()(R,{VBtn:f["a"],VContainer:V["a"],VFlex:E["a"],VForm:q["a"],VIcon:g["a"],VLayout:P["a"],VTab:T["a"],VTabItem:I["a"],VTabs:$["a"],VTextField:L["a"]});var A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"events"},[n("div",{staticClass:"header"},[n("div",{staticClass:"header__name"},[t._v("События")]),n("div",{staticClass:"header__sub"},[t._v("Актуальное")]),n("v-flex",{staticStyle:{"z-index":"999","margin-top":"5px"},attrs:{xs12:""}},[n("router-link",{attrs:{to:"/event/"+t.actualEvent[0]._id}},[t.actualEvent[0]?n("v-card",{staticClass:"blue--text",staticStyle:{"border-radius":"5px"},attrs:{ripple:"",color:"white darken-2"}},[n("v-layout",[n("v-flex",{attrs:{xs5:""}},[n("v-img",{staticStyle:{"border-radius":"5px"},attrs:{src:t.actualEvent[0].image,height:"100%",cover:""}})],1),n("v-flex",{attrs:{xs7:""}},[n("v-card-title",[n("div",[n("div",{staticClass:"headline"},[t._v(t._s(t.actualEvent[0].title))]),n("div",[t._v(t._s(t.actualEvent[0].dateStart))])])])],1)],1)],1):t._e()],1)],1)],1),t.events?n("v-container",{staticClass:"contents"},[n("v-layout",[n("h2",{staticClass:"content__subheader"},[t._v("Предстоящие игры")])]),t._l(t.events,function(e){return n("v-layout",{key:e.id,staticClass:"mt-2 mb-2"},[n("v-flex",{attrs:{xs12:""}},[n("router-link",{attrs:{to:"/event/"+e._id}},[n("v-card",{staticClass:"blue--text",staticStyle:{"border-radius":"5px"},attrs:{ripple:"",color:"white darken-2"}},[n("v-layout",[n("v-flex",{attrs:{xs5:""}},[n("v-img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.image,height:"100px",cover:""}})],1),n("v-flex",{attrs:{xs7:""}},[n("v-card-title",[n("div",[n("div",{staticClass:"headline"},[t._v(t._s(e.title))]),n("div",[t._v(t._s(e.dateStart))])])])],1)],1)],1)],1)],1)],1)})],2):t._e()],1)},B=[],N=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),F=n("2f62");function Q(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(n,!0).forEach(function(e){Object(N["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var J={name:"Events",components:{},data:function(){return{}},computed:z({},Object(F["b"])({events:"quest/events",actualEvent:"quest/actualEvent"})),methods:{},beforeCreate:function(){this.$store.dispatch("quest/getEvents")},updated:function(){}},M=J,U=(n("ea06"),n("b0af")),H=n("12b2"),G=n("adda"),K=Object(u["a"])(M,A,B,!1,null,"623f0ab0",null),W=K.exports;v()(K,{VCard:U["a"],VCardTitle:H["a"],VContainer:V["a"],VFlex:E["a"],VImg:G["a"],VLayout:P["a"]});var X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"events"},[n("div",{staticClass:"header"},[n("div",{staticClass:"header__name"},[t._v("Команда")]),n("div",{staticClass:"search-box"},[n("div",{staticClass:"search-box__title"},[t._v("Найти команду")]),n("v-text-field",{attrs:{solo:"",label:"Введите название","append-icon":"search"}})],1)]),n("v-container",{staticClass:"content"},[n("v-layout",[n("div",{staticStyle:{"margin-top":"-20px"},attrs:{width:"80%"}},[n("h2",{staticClass:"content__subheader"},[t._v("Ведутся ремонтные работы")]),n("img",{attrs:{src:"https://cdn.dribbble.com/users/758377/screenshots/6193921/ezgif.com-crop__2_.gif",width:"100%"}})])])],1)],1)},Y=[],Z={name:"Events",components:{},data:function(){return{}},created:function(){}},tt=Z,et=(n("08be"),Object(u["a"])(tt,X,Y,!1,null,"5790c678",null)),nt=et.exports;v()(et,{VContainer:V["a"],VLayout:P["a"],VTextField:L["a"]});var at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"events"},[t._m(0),n("v-container",{staticClass:"content"},[n("v-layout",[n("h2",{staticClass:"content__subheader"},[t._v("Статистика")])])],1)],1)},rt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header__name"},[t._v("Профиль")])])}],st={name:"Events",components:{},data:function(){return{}},created:function(){}},it=st,ot=(n("c1b5"),Object(u["a"])(it,at,rt,!1,null,"62c43667",null)),ct=ot.exports;v()(ot,{VContainer:V["a"],VLayout:P["a"]});var lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"event"},[n("v-toolbar",{staticStyle:{"background-size":"cover","background-color":"rgba(0,0,145,0.7)"},style:{backgroundImage:"url("+t.event.image+")"},attrs:{fixed:"","scroll-off-screen":"",dark:"",extended:""},scopedSlots:t._u([{key:"extension",fn:function(){return[n("router-link",{attrs:{to:"/events"}},[n("v-toolbar-side-icon",[n("v-icon",[t._v("arrow_back")])],1)],1),n("v-toolbar-title",{staticClass:"white--text",staticStyle:{"margin-left":"-8px"}},[t._v(t._s(t.event.title))]),n("v-spacer"),n("v-btn",{staticStyle:{"margin-top":"60px"},attrs:{fab:"",dark:"",color:"pink"},on:{click:t.getLink}},[n("v-icon",{attrs:{dark:""}},[t._v("gamepad")])],1)]},proxy:!0}])},[n("v-spacer")],1),n("section",{staticClass:"content"},[n("v-layout",[n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center",attrs:{column:""}},[n("v-icon",{attrs:{large:"",dark:"",color:"green"}},[t._v("group")]),n("h5",[t._v(t._s(t.event.tags.typeTeam))])],1),n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center"},[n("v-icon",{attrs:{large:"",dark:"",color:"red"}},[t._v("book")]),n("h5",[t._v(t._s(t.event.tags.typeGenre))])],1)],1),n("v-layout",[n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center",attrs:{xs6:""}},[n("v-icon",{attrs:{large:"",dark:"",color:"blue"}},[t._v("access_time")]),n("h5",[t._v(t._s(t.event.tags.typeTime))])],1),n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center",attrs:{xs6:""}},[n("v-icon",{attrs:{large:"",dark:"",color:"orange"}},[t._v("pin_drop")]),n("h5",[t._v(t._s(t.event.tags.location))])],1)],1),n("v-layout",{staticClass:"mt-3 mb-3"},[n("h2",{staticClass:"content__subheader ml-1"},[t._v("Описание")])]),n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"px-0 pl-2 pr-2"},[t._v(t._s(t.event.description))])],1),n("v-layout",{staticClass:"mt-3 mb-3"},[n("h2",{staticClass:"content__subheader ml-1"},[t._v("Правила")])]),n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"pl-2 pr-2"},[t._v(t._s(t.event.rules))])],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",{staticClass:"d-flex fluid justify-content-center"},[t.loading?n("v-progress-circular",{attrs:{centered:"",indeterminate:"",color:"primary"}}):t._e(),t.loading?t._e():n("div",[n("v-card-title",{staticClass:"headline"},[t._v("Подтвердите участие")]),n("v-card-text",[t._v("Стоимость участия: "+t._s(t.event.price))]),n("v-card-text",[t._v("Для подтверждения регистрации в игре нажмите ОК")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"grey",flat:"",dark:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Отмена")]),n("v-btn",{attrs:{color:"green darken-2",dark:"",text:""},on:{click:t.gameRegister}},[t._v("ОК")])],1)],1)],1)],1)],1)},ut=[];function dt(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(n,!0).forEach(function(e){Object(N["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var pt={name:"Event",components:{},data:function(){return{link:"",dialog:!1,loading:!1}},methods:{getLink:function(){var t=this;this.dialog=!0,this.loading=!0;var e=this.userQuests.filter(function(e){return e.id==t.$route.params.id});if(0!==e.length){var n=e[0].riddles[e[0].riddles.length-1].id;this.$router.push("/quest/"+this.$route.params.id+"/riddle/"+n)}else this.loading=!1},gameRegister:function(){this.$store.dispatch("users/gameRegister",this.$route.params.id),this.dialog=!1,this.$router.push("/quest/"+this.$route.params.id+"/riddle/1")}},computed:vt({},Object(F["b"])({event:"quest/event",userQuests:"users/quests"})),beforeCreate:function(){this.$store.dispatch("quest/getEventByID",this.$route.params.id),this.$store.dispatch("users/getUserQuestsByID")}},ft=pt,gt=(n("30fa"),n("99d9")),mt=n("169a"),ht=n("490a"),bt=n("9910"),yt=n("71d9"),_t=n("706c"),xt=n("2a7f"),wt=Object(u["a"])(ft,lt,ut,!1,null,"77911050",null),Ot=wt.exports;v()(wt,{VBtn:f["a"],VCard:U["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:H["a"],VDialog:mt["a"],VFlex:E["a"],VIcon:g["a"],VLayout:P["a"],VProgressCircular:ht["a"],VSpacer:bt["a"],VToolbar:yt["a"],VToolbarSideIcon:_t["a"],VToolbarTitle:xt["a"]});var kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"quest"},[n("v-toolbar",{staticStyle:{"background-size":"cover","background-color":"rgba(0,0,145,0.7)"},style:{backgroundImage:"url("+t.event.image+")"},attrs:{fixed:"",dark:""}},[n("a",{on:{click:function(e){return t.$router.go(-1)}}},[n("v-toolbar-side-icon",[n("v-icon",[t._v("arrow_back")])],1)],1),n("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.event.title))]),n("v-spacer")],1),n("section",{staticClass:"content"},[n("v-list",t._l(t.items,function(e){return n("v-list-tile",{key:e.title,attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.avatar}})]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.title)}})],1),n("v-list-tile-action",[n("v-icon",{attrs:{color:e.active?"teal":"grey"}},[t._v("chat_bubble")])],1)],1)}),1)],1)],1)},Ct=[];function jt(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jt(n,!0).forEach(function(e){Object(N["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Vt={name:"Quest",components:{},data:function(){return{}},computed:St({},Object(F["b"])({riddles:"quest/riddles"})),beforeCreate:function(){this.$store.dispatch("quest/getEventByIDAndRiddles",this.$route.params.id)}},Et=Vt,qt=(n("edb2"),n("8860")),Pt=n("ba95"),Tt=n("40fe"),It=n("c954"),$t=n("5d23"),Lt=Object(u["a"])(Et,kt,Ct,!1,null,"d20069a4",null),Rt=Lt.exports;v()(Lt,{VIcon:g["a"],VList:qt["a"],VListTile:Pt["a"],VListTileAction:Tt["a"],VListTileAvatar:It["a"],VListTileContent:$t["a"],VListTileTitle:$t["b"],VSpacer:bt["a"],VToolbar:yt["a"],VToolbarSideIcon:_t["a"],VToolbarTitle:xt["a"]});var Dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"riddle"},[n("v-toolbar",{staticStyle:{"background-size":"cover","background-color":"rgba(0,0,0,1)"},attrs:{fixed:"",dark:""}},[n("router-link",{attrs:{to:"/events"}},[n("v-toolbar-side-icon",[n("v-icon",[t._v("arrow_back")])],1)],1),n("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.riddle.title))])],1),n("section",{staticClass:"content"},[n("v-card",{staticClass:"mx-auto task-card grey darken-3",attrs:{dark:"","max-width":"90%"}},[n("v-card-title",[n("v-icon",{attrs:{medium:"",left:""}},[t._v("extension")]),n("span",{staticClass:"title font-weight-light"},[t._v("Задание #"+t._s(t.riddle.num))])],1),n("v-card-text",{staticClass:"title text-xs-left task-text",staticStyle:{"line-height":"1.2em"},domProps:{innerHTML:t._s(t.riddle.text)}}),n("v-card-actions",{staticClass:"align-content-center"},[t.riddle.required?n("v-text-field",{staticClass:"ml-2 mt-3",attrs:{light:"",solo:"",placeholder:"Ответ"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}):t._e(),t.riddle.required?t._e():n("v-card-text",{staticClass:"headline mb-3 align-right text-xs-right font-weight-bold"},[t._v("Далее")]),n("v-btn",{staticClass:"mx-2 mb-3",attrs:{fab:"",dark:"",color:"green darken-1"},on:{click:t.postAnswer}},[t.isLoading?t._e():n("v-icon",{attrs:{dark:""}},[t._v("arrow_right")]),t.isLoading?n("v-progress-circular",{attrs:{indeterminate:"",color:"amber"}}):t._e()],1)],1),t.success?t._e():n("p",[t._v("Неправильный ответ")])],1)],1)],1)},At=[];function Bt(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(n,!0).forEach(function(e){Object(N["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Ft={name:"Riddle",components:{},data:function(){return{answer:"",isLoading:!1}},methods:{postAnswer:function(){this.isLoading=!0,this.$store.dispatch("quest/postAnswer",{answer:this.answer,questID:this.$route.params.id,riddleID:this.$route.params.riddle_id}),this.isLoading=!1}},computed:Nt({},Object(F["b"])({riddle:"quest/riddle"}),{success:function(){return this.$store.state.quest.success}}),beforeCreate:function(){this.$store.dispatch("quest/getRiddle",this.$route.params)},watch:{$route:function(){this.$store.dispatch("quest/getRiddle",this.$route.params),this.answer=""}}},Qt=Ft,zt=(n("8720"),Object(u["a"])(Qt,Dt,At,!1,null,"33a25cd8",null)),Jt=zt.exports;v()(zt,{VBtn:f["a"],VCard:U["a"],VCardActions:gt["a"],VCardText:gt["b"],VCardTitle:H["a"],VIcon:g["a"],VProgressCircular:ht["a"],VTextField:L["a"],VToolbar:yt["a"],VToolbarSideIcon:_t["a"],VToolbarTitle:xt["a"]}),a["a"].use(O["a"]);var Mt=new O["a"]({mode:"history",routes:[{path:"/profile",name:"profile",component:ct},{path:"/teams",name:"teams",component:nt},{path:"/login",name:"login",component:D},{path:"/",name:"events",component:W},{path:"/event/:id",name:"event",component:Ot},{path:"/quest/:id",name:"quest",component:Rt},{path:"/quest/:id/riddle/:riddle_id",name:"Riddle",component:Jt},{path:"*",redirect:"/"}]});Mt.beforeEach(function(t,e,n){var a=["/login"],r=!a.includes(t.path),s=localStorage.getItem("user");if(r&&!s)return n("/login");n()});var Ut=Mt,Ht={namespaced:!0,state:{type:null,message:null},actions:{success:function(t,e){var n=t.commit;n("success",e)},error:function(t,e){var n=t.commit;n("error",e)},clear:function(t,e){var n=t.commit;n("success",e)}},mutations:{success:function(t,e){t.type="alert-success",t.message=e},error:function(t,e){t.type="alert-danger",t.message=e},clear:function(t){t.type=null,t.message=null}}},Gt=(n("96cf"),n("3b8d"));function Kt(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.token?{"x-auth-token":t.token,"Content-Type":"application/json"}:{}}var Wt=n("bc3a"),Xt=n.n(Wt),Yt="https://netquest-server.herokuapp.com";function Zt(t,e){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})};return fetch("".concat(Yt,"/api/auth"),n).then(se).then(function(t){return localStorage.setItem("user",JSON.stringify(t)),t})}function te(){localStorage.removeItem("user")}function ee(){return ne.apply(this,arguments)}function ne(){return ne=Object(Gt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.a.get("".concat(Yt,"/api/users/quests"),{headers:Kt()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),ne.apply(this,arguments)}function ae(t){var e={method:"POST",headers:Kt()};return fetch("".concat(Yt,"/api/quest/")+t,e)}function re(t,e,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,password:n})};return fetch("".concat(Yt,"/api/users"),a).then(se).then(function(t){return t.token&&localStorage.setItem("user",JSON.stringify(t)),t})}function se(t){return t.json().then(function(e){if(!t.ok){401===t.status&&(te(),location.reload(!0));var n=e&&e.message||t.statusText;return Promise.reject(n)}return e})}var ie={login:Zt,logout:te,register:re,getUserQuestsByID:ee,gameRegister:ae},oe=JSON.parse(localStorage.getItem("user")),ce=oe?{status:{loggedIn:!0},user:oe}:{status:{loggedIn:!1},user:null},le={namespaced:!0,state:ce,actions:{login:function(t,e){var n=t.dispatch,a=t.commit,r=e.email,s=e.password;a("loginRequest",{email:r}),ie.login(r,s).then(function(t){a("loginSuccess",t),Ut.push("/")},function(t){a("loginFailure",t),n("alert/error",t,{root:!0})})},register:function(t,e){var n=t.dispatch,a=t.commit,r=e.name,s=e.email,i=e.password;a("loginRequest",{email:s}),ie.register(r,s,i).then(function(t){a("loginSuccess",t),Ut.push("/")},function(t){a("loginFailure",t),n("alert/error",t,{root:!0})})},logout:function(t){var e=t.commit;ie.logout(),e("logout")}},mutations:{loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}}},ue={namespaced:!0,state:{all:{},quests:{}},actions:{getUserQuestsByID:function(t){var e=t.commit;ie.getUserQuestsByID().then(function(t){return e("getQuests",t.data)},function(t){return""})},gameRegister:function(t,e){var n=t.commit;ie.gameRegister(e).then(function(t){return n("getQuests",t.data)},function(t){return""})}},getters:{quests:function(t){return t.quests}},mutations:{getQuests:function(t,e){t.quests=e}}},de="https://netquest-server.herokuapp.com";function ve(){return pe.apply(this,arguments)}function pe(){return pe=Object(Gt["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.a.get("".concat(de,"/api/quest"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),pe.apply(this,arguments)}function fe(t){return ge.apply(this,arguments)}function ge(){return ge=Object(Gt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.a.get("".concat(de,"/api/quest/")+e,{headers:Kt()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),ge.apply(this,arguments)}function me(t){return he.apply(this,arguments)}function he(){return he=Object(Gt["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.a.get("".concat(de,"/api/quest/")+e+"?riddles");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),he.apply(this,arguments)}function be(t,e){return ye.apply(this,arguments)}function ye(){return ye=Object(Gt["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xt.a.get("".concat(de,"/api/quest/")+e+"/"+n,{headers:Kt()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),ye.apply(this,arguments)}function _e(t,e,n){var a={method:"POST",headers:Kt(),body:JSON.stringify({answer:n})};return fetch("".concat(de,"/api/quest/")+t+"/"+e,a)}var xe={getEvents:ve,getEventByID:fe,getEventByIDAndRiddles:me,getRiddle:be,postAnswer:_e},we={namespaced:!0,state:{events:[{image:"",_id:"",isActual:!0}],event:[{image:"",_id:"",title:"Загрузка",tags:{typeTeam:""}}],riddle:[{title:"Загрузка..."}],isLoading:!1,success:!0},actions:{getEvents:function(t){this.state.isLoading=!0;try{xe.getEvents().then(function(e){t.commit("setEvents",e.data)})}catch(e){this.state.isLoading=!1}},getEventByID:function(t,e){this.state.isLoading=!0;try{xe.getEventByID(e).then(function(e){t.commit("setEvent",e.data)})}catch(n){this.state.isLoading=!1}},getEventByIDAndRiddles:function(t,e){this.state.isLoading=!0;try{xe.getEventByIDAndRiddles(e).then(function(e){t.commit("setEvent",e.data)})}catch(n){this.state.isLoading=!1}},getRiddle:function(t,e){this.state.isLoading=!0;var n=e.id,a=e.riddle_id;try{xe.getRiddle(n,a).then(function(e){t.commit("setRiddle",e.data)})}catch(r){this.state.isLoading=!1}},postAnswer:function(t,e){this.state.isLoading=!0;var n=e.questID,a=e.riddleID,r=e.answer;try{xe.postAnswer(n,a,r).then(function(e){e.json().then(function(e){t.commit("setIsSucceed",e)})})}catch(s){this.state.isLoading=!1}}},mutations:{setEvents:function(t,e){this.state.isLoading=!1,t.events=e},setEvent:function(t,e){t.event=e,this.state.isLoading=!1},setRiddle:function(t,e){t.riddle=e,this.state.isLoading=!1},setIsSucceed:function(t,e){e.success?(this.state.success=!0,Ut.push("/quest/"+Ut.currentRoute.params.id+"/riddle/"+(parseInt(Ut.currentRoute.params.riddle_id)+1))):this.state.success=!1,this.state.isLoading=!1}},getters:{event:function(t){return t.event},events:function(t){return t.events.filter(function(t){return!t.isActual})},actualEvent:function(t){return t.events.filter(function(t){return t.isActual})},riddle:function(t){return t.riddle[0]}}};a["a"].use(F["a"]);var Oe=new F["a"].Store({state:{},mutations:{},actions:{},modules:{alert:Ht,authentication:le,users:ue,quest:we}}),ke=n("bb71");n("bf40");Xt.a.defaults.headers.common["Content-Type"]="application/json",a["a"].use(ke["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Ut,store:Oe,Vuetify:ke["a"],render:function(t){return t(w)}}).$mount("#app")},6316:function(t,e,n){},6445:function(t,e,n){},"6abe":function(t,e,n){},"6cab":function(t,e,n){},8720:function(t,e,n){"use strict";var a=n("b7f5"),r=n.n(a);r.a},"8dd1":function(t,e,n){"use strict";var a=n("6316"),r=n.n(a);r.a},"8ebf":function(t,e,n){},b205:function(t,e,n){},b7f5:function(t,e,n){},c1b5:function(t,e,n){"use strict";var a=n("6445"),r=n.n(a);r.a},ea06:function(t,e,n){"use strict";var a=n("6cab"),r=n.n(a);r.a},edb2:function(t,e,n){"use strict";var a=n("8ebf"),r=n.n(a);r.a}});
//# sourceMappingURL=app.14c6fc2e.js.map