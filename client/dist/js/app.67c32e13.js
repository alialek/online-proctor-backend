(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)i=o[d],r[i]&&v.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("1356"),r=n.n(a);r.a},"08be":function(t,e,n){"use strict";var a=n("b205"),r=n.n(a);r.a},1356:function(t,e,n){},"227b":function(t,e,n){t.exports=n.p+"img/blue.e312bc77.svg"},"2ee9":function(t,e,n){t.exports=n.p+"img/orange.722256c6.svg"},"30fa":function(t,e,n){"use strict";var a=n("6abe"),r=n.n(a);r.a},"3d96":function(t,e,n){},"471d":function(t,e,n){},"53f3":function(t,e,n){t.exports=n.p+"img/black.07db8a6e.svg"},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("router-view"),t.isLogged?n("Navbar"):t._e()],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-nav",{attrs:{active:t.bottomNav,color:t.color,value:!0,fixed:"",dark:"",shift:""},on:{"update:active":function(e){t.bottomNav=e}}},[n("router-link",{attrs:{to:"/profile"}},[n("v-btn",{attrs:{dark:""}},[n("span",[t._v("Профиль")]),n("v-icon",[t._v("person")])],1)],1),n("router-link",{attrs:{to:"/"}},[n("v-btn",{attrs:{dark:""}},[n("span",[t._v("Квесты")]),n("v-icon",[t._v("location_on")])],1)],1),n("router-link",{attrs:{to:"/teams"}},[n("v-btn",{attrs:{dark:""}},[n("span",[t._v("Команда")]),n("v-icon",[t._v("people")])],1)],1)],1)},o=[],c={name:"Navbar",props:{msg:String},data:function(){return{bottomNav:1}},computed:{color:function(){switch(this.bottomNav){case 0:return"#353941";case 1:return"#4ab8e1";case 2:return"#ffab2d";default:return black}}}},l=c,u=n("2877"),d=n("6544"),v=n.n(d),p=n("887a"),f=n("8336"),g=n("132d"),m=Object(u["a"])(l,i,o,!1,null,"e1b9c5c8",null),h=m.exports;v()(m,{VBottomNav:p["a"],VBtn:f["a"],VIcon:g["a"]});var b={name:"App",components:{Navbar:h},data:function(){return{}},computed:{isLogged:function(){return this.$store.state.authentication.status.loggedIn},isLoading:function(){return console.log(this.$store.state.quest.isLoading),this.$store.state.quest.isLoading}}},y=b,_=(n("034f"),n("7496")),x=Object(u["a"])(y,r,s,!1,null,null,null),w=x.exports;v()(x,{VApp:_["a"]});n("6762");var O=n("8c4f"),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login"},[t._m(0),t._m(1),t._m(2),n("v-container",{staticClass:"ml-3 mr-3 mb-2",staticStyle:{width:"94%",position:"absolute","z-index":"9999",height:"60%","background-color":"white",bottom:"0","border-radius":"30px"}},[n("v-layout",{attrs:{"align-center":""}},[n("v-tabs",{staticStyle:{width:"100%"},attrs:{grow:"",centered:"",color:"transparent","slider-color":"orange"}},[n("v-tab",{attrs:{ripple:""}},[t._v("Вход")]),n("v-tab",{attrs:{ripple:""}},[t._v("Регистрация")]),n("v-tab-item",[n("form",[n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{type:"password",label:"Пароль",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[n("span",{staticStyle:{"font-size":"30px","font-weight":"600"}},[t._v("Войти")]),n("v-btn",{staticStyle:{"background-color":"#353941",color:"white"},attrs:{fab:""},on:{click:t.handleAuth}},[n("v-icon",[t._v("arrow_right")])],1)],1)],1)]),n("v-tab-item",[n("form",[n("v-text-field",{attrs:{label:"Имя",required:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),n("v-text-field",{attrs:{label:"E-mail",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("v-text-field",{attrs:{type:"password",label:"Пароль",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("v-layout",{attrs:{"justify-space-between":"","align-center":""}},[n("span",{staticStyle:{"font-size":"30px","font-weight":"600"}},[t._v("Регистрация")]),n("v-btn",{staticStyle:{"background-color":"#353941",color:"white"},attrs:{fab:""},on:{click:t.handleReg}},[n("v-icon",[t._v("lock")])],1)],1)],1)])],1)],1)],1)],1)},C=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"left bg-image-holder"},[a("img",{staticClass:"bg-image right-image",attrs:{src:n("227b")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"center bg-image-holder"},[a("img",{staticClass:"bg-image center-image",attrs:{src:n("53f3")}}),a("h2",{staticStyle:{position:"absolute",color:"white","font-size":"30px","margin-top":"25%","margin-left":"7%"}},[t._v("\n      Добро\n      "),a("br"),t._v("Пожаловать\n    ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"right bg-image-holder"},[a("img",{staticClass:"bg-image left-image",attrs:{src:n("2ee9")}})])}],j=(n("7f7f"),{name:"Login",components:{},data:function(){return{name:"",email:"",password:""}},created:function(){},methods:{handleAuth:function(t){var e=this.email,n=this.password,a=this.$store.dispatch;e&&n&&a("authentication/login",{email:e,password:n})},handleReg:function(t){var e=this.name,n=this.email,a=this.password,r=this.$store.dispatch;n&&a&&e&&r("authentication/register",{name:e,email:n,password:a})}}}),S=j,V=(n("8f6c"),n("a523")),E=n("a722"),q=n("71a3"),P=n("c671"),T=n("fe57"),I=n("2677"),L=Object(u["a"])(S,k,C,!1,null,"644d4de0",null),$=L.exports;v()(L,{VBtn:f["a"],VContainer:V["a"],VIcon:g["a"],VLayout:E["a"],VTab:q["a"],VTabItem:P["a"],VTabs:T["a"],VTextField:I["a"]});var R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"events"},[n("div",{staticClass:"header"},[n("div",{staticClass:"header__name"},[t._v("События")]),n("div",{staticClass:"header__sub"},[t._v("Актуальное")]),n("v-flex",{staticStyle:{"z-index":"999","margin-top":"5px"},attrs:{xs12:""}},[n("router-link",{attrs:{to:"/event/"+t.actualEvent[0]._id}},[t.actualEvent[0]?n("v-card",{staticClass:"blue--text",staticStyle:{"border-radius":"5px"},attrs:{ripple:"",color:"white darken-2"}},[n("v-layout",[n("v-flex",{attrs:{xs5:""}},[n("v-img",{staticStyle:{"border-radius":"5px"},attrs:{src:t.actualEvent[0].image,height:"100%",cover:""}})],1),n("v-flex",{attrs:{xs7:""}},[n("v-card-title",[n("div",[n("div",{staticClass:"headline"},[t._v(t._s(t.actualEvent[0].title))]),n("div",[t._v(t._s(t.actualEvent[0].dateStart))])])])],1)],1)],1):t._e()],1)],1)],1),t.events?n("v-container",{staticClass:"contents"},[n("v-layout",[n("h2",{staticClass:"content__subheader"},[t._v("Предстоящие игры")])]),t._l(t.events,function(e){return n("v-layout",{key:e.id,staticClass:"mt-2 mb-2"},[n("v-flex",{attrs:{xs12:""}},[n("router-link",{attrs:{to:"/event/"+e._id}},[n("v-card",{staticClass:"blue--text",staticStyle:{"border-radius":"5px"},attrs:{ripple:"",color:"white darken-2"}},[n("v-layout",[n("v-flex",{attrs:{xs5:""}},[n("v-img",{staticStyle:{"border-radius":"5px"},attrs:{src:e.image,height:"100px",cover:""}})],1),n("v-flex",{attrs:{xs7:""}},[n("v-card-title",[n("div",[n("div",{staticClass:"headline"},[t._v(t._s(e.title))]),n("div",[t._v(t._s(e.dateStart))])])])],1)],1)],1)],1)],1)],1)})],2):t._e()],1)},D=[],A=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),B=n("2f62");function N(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(n,!0).forEach(function(e){Object(A["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var z={name:"Events",components:{},data:function(){return{}},computed:Q({},Object(B["b"])({events:"quest/events",actualEvent:"quest/actualEvent"})),methods:{},beforeCreate:function(){this.$store.dispatch("quest/getEvents")},updated:function(){}},J=z,F=(n("ea06"),n("b0af")),M=n("12b2"),U=n("0e8f"),H=n("adda"),G=Object(u["a"])(J,R,D,!1,null,"623f0ab0",null),K=G.exports;v()(G,{VCard:F["a"],VCardTitle:M["a"],VContainer:V["a"],VFlex:U["a"],VImg:H["a"],VLayout:E["a"]});var W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"events"},[n("div",{staticClass:"header"},[n("div",{staticClass:"header__name"},[t._v("Команда")]),n("div",{staticClass:"search-box"},[n("div",{staticClass:"search-box__title"},[t._v("Найти команду")]),n("v-text-field",{attrs:{solo:"",label:"Введите название","append-icon":"search"}})],1)]),n("v-container",{staticClass:"content"},[n("v-layout",[n("div",{staticStyle:{"margin-top":"-20px"},attrs:{width:"80%"}},[n("h2",{staticClass:"content__subheader"},[t._v("Ведутся ремонтные работы")]),n("img",{attrs:{src:"https://cdn.dribbble.com/users/758377/screenshots/6193921/ezgif.com-crop__2_.gif",width:"100%"}})])])],1)],1)},X=[],Y={name:"Events",components:{},data:function(){return{}},created:function(){}},Z=Y,tt=(n("08be"),Object(u["a"])(Z,W,X,!1,null,"5790c678",null)),et=tt.exports;v()(tt,{VContainer:V["a"],VLayout:E["a"],VTextField:I["a"]});var nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"events"},[t._m(0),n("v-container",{staticClass:"content"},[n("v-layout",[n("h2",{staticClass:"content__subheader"},[t._v("Статистика")])])],1)],1)},at=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header__name"},[t._v("Профиль")])])}],rt={name:"Events",components:{},data:function(){return{}},created:function(){}},st=rt,it=(n("c1b5"),Object(u["a"])(st,nt,at,!1,null,"62c43667",null)),ot=it.exports;v()(it,{VContainer:V["a"],VLayout:E["a"]});var ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"event"},[n("v-toolbar",{staticStyle:{"background-size":"cover","background-color":"rgba(0,0,145,0.7)"},style:{backgroundImage:"url("+t.event.image+")"},attrs:{fixed:"","scroll-off-screen":"",dark:"",extended:""},scopedSlots:t._u([{key:"extension",fn:function(){return[n("router-link",{attrs:{to:"/events"}},[n("v-toolbar-side-icon",[n("v-icon",[t._v("arrow_back")])],1)],1),n("v-toolbar-title",{staticClass:"white--text",staticStyle:{"margin-left":"-8px"}},[t._v(t._s(t.event.title))]),n("v-spacer"),n("v-btn",{staticStyle:{"margin-top":"60px"},attrs:{fab:"",dark:"",color:"pink"},on:{click:t.getLink}},[n("v-icon",{attrs:{dark:""}},[t._v("gamepad")])],1)]},proxy:!0}])},[n("v-spacer")],1),n("section",{staticClass:"content"},[n("v-layout",[n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center",attrs:{column:""}},[n("v-icon",{attrs:{large:"",dark:"",color:"green"}},[t._v("group")]),n("h5",[t._v(t._s(t.event.tags.typeTeam))])],1),n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center"},[n("v-icon",{attrs:{large:"",dark:"",color:"red"}},[t._v("book")]),n("h5",[t._v(t._s(t.event.tags.typeGenre))])],1)],1),n("v-layout",[n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center",attrs:{xs6:""}},[n("v-icon",{attrs:{large:"",dark:"",color:"blue"}},[t._v("access_time")]),n("h5",[t._v(t._s(t.event.tags.typeTime))])],1),n("v-flex",{staticClass:"d-flex flex-column justify-center align-center align-content-center",attrs:{xs6:""}},[n("v-icon",{attrs:{large:"",dark:"",color:"orange"}},[t._v("pin_drop")]),n("h5",[t._v(t._s(t.event.tags.location))])],1)],1),n("v-layout",{staticClass:"mt-3 mb-3"},[n("h2",{staticClass:"content__subheader ml-1"},[t._v("Описание")])]),n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"px-0 pl-2 pr-2"},[t._v(t._s(t.event.description))])],1),n("v-layout",{staticClass:"mt-3 mb-3"},[n("h2",{staticClass:"content__subheader ml-1"},[t._v("Правила")])]),n("v-card",{attrs:{flat:""}},[n("v-card-text",{staticClass:"pl-2 pr-2"},[t._v(t._s(t.event.rules))])],1)],1),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",{staticClass:"d-flex fluid justify-content-center"},[t.loading?n("v-progress-circular",{attrs:{centered:"",indeterminate:"",color:"primary"}}):t._e(),t.loading?t._e():n("div",[n("v-card-title",{staticClass:"headline"},[t._v("Подтвердите участие")]),n("v-card-text",[t._v("Стоимость участия: "+t._s(t.event.price))]),n("v-card-text",[t._v("Для подтверждения регистрации в игре нажмите ОК")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"grey",flat:"",dark:"",text:""},on:{click:function(e){t.dialog=!1}}},[t._v("Отмена")]),n("v-btn",{attrs:{color:"green darken-2",dark:"",text:""},on:{click:t.gameRegister}},[t._v("ОК")])],1)],1)],1)],1)],1)},lt=[];function ut(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(n,!0).forEach(function(e){Object(A["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var vt={name:"Event",components:{},data:function(){return{link:"",dialog:!1,loading:!1}},methods:{getLink:function(){var t=this;this.dialog=!0,this.loading=!0;var e=this.userQuests.filter(function(e){return e.id==t.$route.params.id});if(0!==e.length){var n=e[0].riddles[e[0].riddles.length-1].id;this.$router.push("/quest/"+this.$route.params.id+"/riddle/"+n)}else this.loading=!1},gameRegister:function(){this.$store.dispatch("users/gameRegister",this.$route.params.id),this.dialog=!1,this.$router.push("/quest/"+this.$route.params.id+"/riddle/1")}},computed:dt({},Object(B["b"])({event:"quest/event",userQuests:"users/quests"})),beforeCreate:function(){this.$store.dispatch("quest/getEventByID",this.$route.params.id),this.$store.dispatch("users/getUserQuestsByID")}},pt=vt,ft=(n("30fa"),n("99d9")),gt=n("169a"),mt=n("490a"),ht=n("9910"),bt=n("71d9"),yt=n("706c"),_t=n("2a7f"),xt=Object(u["a"])(pt,ct,lt,!1,null,"77911050",null),wt=xt.exports;v()(xt,{VBtn:f["a"],VCard:F["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:M["a"],VDialog:gt["a"],VFlex:U["a"],VIcon:g["a"],VLayout:E["a"],VProgressCircular:mt["a"],VSpacer:ht["a"],VToolbar:bt["a"],VToolbarSideIcon:yt["a"],VToolbarTitle:_t["a"]});var Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"quest"},[n("v-toolbar",{staticStyle:{"background-size":"cover","background-color":"rgba(0,0,145,0.7)"},style:{backgroundImage:"url("+t.event.image+")"},attrs:{fixed:"",dark:""}},[n("a",{on:{click:function(e){return t.$router.go(-1)}}},[n("v-toolbar-side-icon",[n("v-icon",[t._v("arrow_back")])],1)],1),n("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.event.title))]),n("v-spacer")],1),n("section",{staticClass:"content"},[n("v-list",t._l(t.items,function(e){return n("v-list-tile",{key:e.title,attrs:{avatar:""},on:{click:function(t){}}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.avatar}})]),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{innerHTML:t._s(e.title)}})],1),n("v-list-tile-action",[n("v-icon",{attrs:{color:e.active?"teal":"grey"}},[t._v("chat_bubble")])],1)],1)}),1)],1)],1)},kt=[];function Ct(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(n,!0).forEach(function(e){Object(A["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var St={name:"Quest",components:{},data:function(){return{}},computed:jt({},Object(B["b"])({riddles:"quest/riddles"})),beforeCreate:function(){this.$store.dispatch("quest/getEventByIDAndRiddles",this.$route.params.id)}},Vt=St,Et=(n("5dbd"),n("8860")),qt=n("ba95"),Pt=n("40fe"),Tt=n("c954"),It=n("5d23"),Lt=Object(u["a"])(Vt,Ot,kt,!1,null,"704daae8",null),$t=Lt.exports;v()(Lt,{VIcon:g["a"],VList:Et["a"],VListTile:qt["a"],VListTileAction:Pt["a"],VListTileAvatar:Tt["a"],VListTileContent:It["a"],VListTileTitle:It["b"],VSpacer:ht["a"],VToolbar:bt["a"],VToolbarSideIcon:yt["a"],VToolbarTitle:_t["a"]});var Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"riddle"},[n("v-toolbar",{staticStyle:{"background-size":"cover","background-color":"rgba(0,0,0,1)"},attrs:{fixed:"",dark:""}},[n("router-link",{attrs:{to:"/events"}},[n("v-toolbar-side-icon",[n("v-icon",[t._v("arrow_back")])],1)],1),n("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.riddle.title))])],1),n("section",{staticClass:"content"},[n("v-card",{staticClass:"mx-auto task-card grey darken-3",attrs:{dark:"","max-width":"90%"}},[n("v-card-title",[n("v-icon",{attrs:{medium:"",left:""}},[t._v("extension")]),n("span",{staticClass:"title font-weight-light"},[t._v("Задание #"+t._s(t.riddle.num))])],1),n("v-card-text",{staticClass:"title text-xs-left task-text",staticStyle:{"line-height":"1.2em"},domProps:{innerHTML:t._s(t.riddle.text)}}),n("v-card-actions",{staticClass:"align-content-center"},[t.riddle.required?n("v-text-field",{staticClass:"ml-2 mt-3",attrs:{light:"",solo:"",placeholder:"Ответ"},model:{value:t.answer,callback:function(e){t.answer=e},expression:"answer"}}):t._e(),t.riddle.required?t._e():n("v-card-text",{staticClass:"headline mb-3 align-right text-xs-right font-weight-bold"},[t._v("Далее")]),n("v-btn",{staticClass:"mx-2 mb-3",attrs:{fab:"",dark:"",color:"green darken-1"},on:{click:t.postAnswer}},[t.isLoading?t._e():n("v-icon",{attrs:{dark:""}},[t._v("arrow_right")]),t.isLoading?n("v-progress-circular",{attrs:{indeterminate:"",color:"amber"}}):t._e()],1)],1),t.success?t._e():n("p",[t._v("Неправильный ответ")])],1)],1)],1)},Dt=[];function At(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(n,!0).forEach(function(e){Object(A["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):At(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Nt={name:"Riddle",components:{},data:function(){return{answer:"",isLoading:!1}},methods:{postAnswer:function(){this.isLoading=!0,this.$store.dispatch("quest/postAnswer",{answer:this.answer,questID:this.$route.params.id,riddleID:this.$route.params.riddle_id}),this.isLoading=!1}},computed:Bt({},Object(B["b"])({riddle:"quest/riddle"}),{success:function(){return this.$store.state.quest.success}}),beforeCreate:function(){this.$store.dispatch("quest/getRiddle",this.$route.params)},watch:{$route:function(t,e){this.$store.dispatch("quest/getRiddle",this.$route.params),this.answer=""}}},Qt=Nt,zt=(n("bf33"),Object(u["a"])(Qt,Rt,Dt,!1,null,"0e91c51b",null)),Jt=zt.exports;v()(zt,{VBtn:f["a"],VCard:F["a"],VCardActions:ft["a"],VCardText:ft["b"],VCardTitle:M["a"],VIcon:g["a"],VProgressCircular:mt["a"],VTextField:I["a"],VToolbar:bt["a"],VToolbarSideIcon:yt["a"],VToolbarTitle:_t["a"]}),a["a"].use(O["a"]);var Ft=new O["a"]({mode:"history",routes:[{path:"/profile",name:"profile",component:ot},{path:"/teams",name:"teams",component:et},{path:"/login",name:"login",component:$},{path:"/",name:"events",component:K},{path:"/event/:id",name:"event",component:wt},{path:"/quest/:id",name:"quest",component:$t},{path:"/quest/:id/riddle/:riddle_id",name:"Riddle",component:Jt},{path:"*",redirect:"/"}]});Ft.beforeEach(function(t,e,n){var a=["/login"],r=!a.includes(t.path),s=localStorage.getItem("user");if(r&&!s)return n("/login");n()});var Mt=Ft,Ut={namespaced:!0,state:{type:null,message:null},actions:{success:function(t,e){var n=t.commit;n("success",e)},error:function(t,e){var n=t.commit;n("error",e)},clear:function(t,e){var n=t.commit;n("success",e)}},mutations:{success:function(t,e){t.type="alert-success",t.message=e},error:function(t,e){t.type="alert-danger",t.message=e},clear:function(t){t.type=null,t.message=null}}},Ht=(n("96cf"),n("3b8d"));function Gt(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.token?{"x-auth-token":t.token,"Content-Type":"application/json"}:{}}var Kt=n("bc3a"),Wt=n.n(Kt),Xt="https://netquest-server.herokuapp.com",Yt="https://cors-anywhere.herokuapp.com/";function Zt(t,e){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:e})};return fetch(Yt+"".concat(Xt,"/api/auth"),n).then(se).then(function(t){return localStorage.setItem("user",JSON.stringify(t)),t})}function te(){localStorage.removeItem("user")}function ee(){return ne.apply(this,arguments)}function ne(){return ne=Object(Ht["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.get(Yt+"".concat(Xt,"/api/users/quests"),{headers:Gt()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),ne.apply(this,arguments)}function ae(t){var e={method:"POST",headers:Gt()};return fetch(Yt+"".concat(Xt,"/api/quest/")+t,e)}function re(t,e,n){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,email:e,password:n})};return fetch(Yt+"".concat(Xt,"/api/users"),a).then(se).then(function(t){return t.token&&localStorage.setItem("user",JSON.stringify(t)),t})}function se(t){return t.json().then(function(e){if(!t.ok){401===t.status&&(te(),location.reload(!0));var n=e&&e.message||t.statusText;return Promise.reject(n)}return e})}var ie={login:Zt,logout:te,register:re,getUserQuestsByID:ee,gameRegister:ae},oe=JSON.parse(localStorage.getItem("user")),ce=oe?{status:{loggedIn:!0},user:oe}:{status:{loggedIn:!1},user:null},le={namespaced:!0,state:ce,actions:{login:function(t,e){var n=t.dispatch,a=t.commit,r=e.email,s=e.password;a("loginRequest",{email:r}),ie.login(r,s).then(function(t){a("loginSuccess",t),Mt.push("/")},function(t){a("loginFailure",t),n("alert/error",t,{root:!0})})},register:function(t,e){var n=t.dispatch,a=t.commit,r=e.name,s=e.email,i=e.password;a("loginRequest",{email:s}),ie.register(r,s,i).then(function(t){a("loginSuccess",t),Mt.push("/")},function(t){a("loginFailure",t),n("alert/error",t,{root:!0})})},logout:function(t){var e=t.commit;ie.logout(),e("logout")}},mutations:{loginRequest:function(t,e){t.status={loggingIn:!0},t.user=e},loginSuccess:function(t,e){t.status={loggedIn:!0},t.user=e},loginFailure:function(t){t.status={},t.user=null},logout:function(t){t.status={},t.user=null}}},ue={namespaced:!0,state:{all:{},quests:{}},actions:{getUserQuestsByID:function(t){var e=t.commit;ie.getUserQuestsByID().then(function(t){return e("getQuests",t.data)},function(t){return console.log(t)})},gameRegister:function(t,e){var n=t.commit;ie.gameRegister(e).then(function(t){return n("getQuests",t.data)},function(t){return console.log(t)})}},getters:{quests:function(t){return t.quests}},mutations:{getQuests:function(t,e){t.quests=e}}},de="https://netquest-server.herokuapp.com",ve="https://cors-anywhere.herokuapp.com/";function pe(){return fe.apply(this,arguments)}function fe(){return fe=Object(Ht["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.get(ve+"".concat(de,"/api/quest"));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),fe.apply(this,arguments)}function ge(t){return me.apply(this,arguments)}function me(){return me=Object(Ht["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.get(ve+"".concat(de,"/api/quest/")+e,{headers:Gt()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),me.apply(this,arguments)}function he(t){return be.apply(this,arguments)}function be(){return be=Object(Ht["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.get(ve+"".concat(de,"/api/quest/")+e+"?riddles");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),be.apply(this,arguments)}function ye(t,e){return _e.apply(this,arguments)}function _e(){return _e=Object(Ht["a"])(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Wt.a.get(ve+"".concat(de,"/api/quest/")+e+"/"+n,{headers:Gt()});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t)})),_e.apply(this,arguments)}function xe(t,e,n){var a={method:"POST",headers:Gt(),body:JSON.stringify({answer:n})};return fetch(ve+"".concat(de,"/api/quest/")+t+"/"+e,a)}var we={getEvents:pe,getEventByID:ge,getEventByIDAndRiddles:he,getRiddle:ye,postAnswer:xe},Oe={namespaced:!0,state:{events:[{image:"",_id:"",isActual:!0}],event:[{image:"",_id:"",title:"Загрузка",tags:{typeTeam:""}}],riddle:[{title:"Загрузка..."}],isLoading:!1,success:!0},actions:{getEvents:function(t){this.state.isLoading=!0,console.log(this.state.isLoading);try{we.getEvents().then(function(e){t.commit("setEvents",e.data)})}catch(e){console.log(e),this.state.isLoading=!1}},getEventByID:function(t,e){this.state.isLoading=!0;try{we.getEventByID(e).then(function(e){t.commit("setEvent",e.data)})}catch(n){console.log(n),this.state.isLoading=!1}},getEventByIDAndRiddles:function(t,e){this.state.isLoading=!0;try{we.getEventByIDAndRiddles(e).then(function(e){t.commit("setEvent",e.data)})}catch(n){console.log(n),this.state.isLoading=!1}},getRiddle:function(t,e){this.state.isLoading=!0;var n=e.id,a=e.riddle_id;try{we.getRiddle(n,a).then(function(e){t.commit("setRiddle",e.data)})}catch(r){console.log(r),this.state.isLoading=!1}},postAnswer:function(t,e){this.state.isLoading=!0;var n=e.questID,a=e.riddleID,r=e.answer;try{we.postAnswer(n,a,r).then(function(e){e.json().then(function(e){t.commit("setIsSucceed",e)})})}catch(s){console.log(s),this.state.isLoading=!1}}},mutations:{setEvents:function(t,e){this.state.isLoading=!1,t.events=e},setEvent:function(t,e){t.event=e,this.state.isLoading=!1},setRiddle:function(t,e){t.riddle=e,this.state.isLoading=!1},setIsSucceed:function(t,e){console.log(e.success),e.success?(this.state.success=!0,Mt.push("/quest/"+Mt.currentRoute.params.id+"/riddle/"+(parseInt(Mt.currentRoute.params.riddle_id)+1))):this.state.success=!1,this.state.isLoading=!1}},getters:{event:function(t){return t.event},events:function(t){return t.events.filter(function(t){return!t.isActual})},actualEvent:function(t){return t.events.filter(function(t){return t.isActual})},riddle:function(t){return t.riddle[0]}}};a["a"].use(B["a"]);var ke=new B["a"].Store({state:{},mutations:{},actions:{},modules:{alert:Ut,authentication:le,users:ue,quest:Oe}}),Ce=n("bb71");n("bf40");Wt.a.defaults.headers.common["Content-Type"]="application/json",a["a"].use(Ce["a"]),a["a"].config.productionTip=!1,new a["a"]({router:Mt,store:ke,Vuetify:Ce["a"],render:function(t){return t(w)}}).$mount("#app")},"5dbd":function(t,e,n){"use strict";var a=n("ad2e"),r=n.n(a);r.a},6445:function(t,e,n){},"6abe":function(t,e,n){},"6cab":function(t,e,n){},"8f6c":function(t,e,n){"use strict";var a=n("3d96"),r=n.n(a);r.a},ad2e:function(t,e,n){},b205:function(t,e,n){},bf33:function(t,e,n){"use strict";var a=n("471d"),r=n.n(a);r.a},c1b5:function(t,e,n){"use strict";var a=n("6445"),r=n.n(a);r.a},ea06:function(t,e,n){"use strict";var a=n("6cab"),r=n.n(a);r.a}});
//# sourceMappingURL=app.67c32e13.js.map